<%# Page asset config now set in app.rb %>

<div class="demo-scope">
  <div class="page-wrapper">
  <h1>Rack & Rail Grid Plugin</h1>
  <p>A responsive grid system with two container types: <strong>Rack</strong> (end-to-end col- that wrap) and <strong>Rail</strong> (horizontally scrollable rows).</p>
  </div>

<section>
  <div class="page-wrapper">
    <h2>Column Width Demo</h2>
    <div class="code-block">
      <pre>&lt;div class="rack"&gt;
  &lt;div class="col-1"&gt;col-1&lt;/div&gt;
  &lt;div class="col-2"&gt;col-2&lt;/div&gt;
  &lt;div class="col-3"&gt;col-3&lt;/div&gt;
  &lt;div class="col-4"&gt;col-4&lt;/div&gt;
  ...
&lt;/div&gt;</pre>
    </div>
  </div>

  <div class="page-wrapper">
    <div class="demo-controls" style="margin: 8px 0 12px;">
      <button id="big-rack-rail-toggle" class="big-toggle" type="button" aria-pressed="false">
        <span class="toggle-visual" aria-hidden="true"><span class="thumb"></span></span>
        <span class="label-text"><span class="mode-label">Rack</span></span>
      </button>
    </div>
  </div>

  <div id="col-width-container" class="rack text-gray-900">
    <% (1..12).each do |i| %>
      <div class="col-<%= i %>">
        <strong>col-<%= i %></strong>
      </div>
    <% end %>
  </div>
  <script>
    (function() {
      var btn = document.getElementById('big-rack-rail-toggle');
      var container = document.getElementById('col-width-container');
      var label = btn ? btn.querySelector('.mode-label') : null;
      if (btn && container && label) {
        btn.addEventListener('click', function () {
          var toRail = !container.classList.contains('rail');
          container.classList.toggle('rail', toRail);
          container.classList.toggle('rack', !toRail);
          btn.setAttribute('aria-pressed', String(toRail));
          label.textContent = toRail ? 'Rail' : 'Rack';
        });
      }
    })();
  </script>
  </section>

  <section>
  <div class="page-wrapper">
    <h2>Offset row test</h2>
    <p>Check if <code>.offset-2.col-2</code> and <code>.col-8</code> sit on the same row.</p>
  </div>
  <div class="rack offset-row-test">
    <div class="col-2 offset-2"><strong>offset-2 + col-2</strong></div>
    <div class="col-8"><strong>col-8</strong></div>
  
    <div class="col-2 offset-1"><strong>offset-1 + col-2</strong></div>
    <div class="col-9"><strong>col-9</strong></div>
  
    <div class="col-3 offset-1"><strong>offset-1 + col-3</strong></div>
    <div class="col-8"><strong>col-8</strong></div>
  
    <div class="col-3 offset-2"><strong>offset-2 + col-3</strong></div>
    <div class="col-7"><strong>col-7</strong></div>
  
    <div class="col-2 offset-3"><strong>offset-3 + col-2</strong></div>
    <div class="col-7"><strong>col-7</strong></div>
  
    <div class="col-4 offset-4"><strong>offset-4 + col-4</strong></div>
    <div class="col-4"><strong>col-4</strong></div>
  
    <div class="col-3 offset-5"><strong>offset-5 + col-3</strong></div>
    <div class="col-4"><strong>col-4</strong></div>
  
    <div class="col-4 offset-2"><strong>offset-2 + col-4</strong></div>
    <div class="col-6"><strong>col-6</strong></div>
  
    <div class="col-2 offset-6"><strong>offset-6 + col-2</strong></div>
    <div class="col-4"><strong>col-4</strong></div>
  </div>
  </section>

  <section>
  <div class="page-wrapper">
    <h2>Responsive col- Example (Rack Container Only)</h2>
  </div>

  <div class="rack">
    <%
      # Define responsive demo layout pattern
      demo_cols = [
        [2, 8, 2],
        [12],
        [6, 6],
        [4, 4, 4],
        [3, 3, 3, 3],
        [8, 4],
        [9, 3],
        [2, 10],
        [3, 6, 3],
        [2, 4, 6],
        [2, 4],
        [1, 6, 2, 3]
      ]
      
      col_counter = { 1 => 1, 2 => 1, 3 => 1, 4 => 1, 5 => 1, 6 => 1, 7 => 1, 8 => 1, 9 => 1, 10 => 1, 11 => 1, 12 => 1 }
    %>
    
    <% demo_cols.each do |row| %>
      <% row.each do |col_size| %>
        <div class="col-<%= col_size %>">
          <strong>col-<%= col_size %></strong>
        </div>
        <% col_counter[col_size] += 1 %>
      <% end %>
    <% end %>
  </div>
  </section>

  <section>
  <div class="page-wrapper">
    <h2>Complementary Offset Examples</h2>
    <p>Demonstration of how offsets interact with complementary col-sizes (offset + col-= 12)</p>
    <p>Each example shows how different offset values create centered positioning for the col-. The offset applies half of the calculated margin to the left, visually centering the column with remaining space appearing on the right.</p>
  </div>

  <div class="offset-demo">
    <div class="rack">
      <div class="col-12">
        <strong>offset-0 + col-12</strong>
        <div><span>No offset (0%) + Full width col-(100%)</span></div>
      </div>

      <% (1..11).each do |offset| %>
        <% col_size = 12 - offset %>
        <div class="col-<%= col_size %> offset-<%= offset %>">
          <strong>offset-<%= offset %> + col-<%= col_size %></strong>
        </div>
      <% end %>
    </div>
  </div>
  </section>

</div>

<!-- Offset comparison section removed per request -->